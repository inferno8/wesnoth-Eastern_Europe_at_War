#define EEAW_FIELDHOSPITAL_ANIM
    [standing_anim]
        [filter]
            [filter_location]
                terrain=*^V*,K*,C*
            [/filter_location]
        [/filter]
        missile2_start_time=0
        [missile2_frame]
            image="units/Poles/field-hospital.png:100"
            layer=30
            auto_vflip=no
        [/missile2_frame]
        start_time=0
        [frame]
            duration=100
        [/frame]
    [/standing_anim]
    [standing_anim]
        [filter]
            [filter_location]
                [not]
                    terrain=*^V*,K*,C*
                [/not]
            [/filter_location]
        [/filter]
        start_time=0
        [frame]
            duration=100
        [/frame]
    [/standing_anim]
#enddef

#define EEAW_EXPLOSION_ANIM
    missile2_start_time=0
    [missile2_frame]
        halo="projectiles/fireball-impact-[1~16].png:60"
        offset=1.0
        sound=explosion.ogg
        auto_vflip=no
    [/missile2_frame]
#enddef

#define EEAW_ANIM_SHIP
    [standing_anim]
        layer=60
        submerge=0.01
        [filter]
            [filter_location]
                terrain=W*,Qx*,Ql*
                [not]
                    terrain=Wwr,*^V*
                [/not]
            [/filter_location]
        [/filter]
        start_time=0
        [frame]
            duration=100
        [/frame]
    [/standing_anim]
    [standing_anim]
        [filter]
            [filter_location]
                terrain=!,W*,Qx*,Ql*
                [or]
                    terrain=Wwr,*^V*
                [/or]
            [/filter_location]
        [/filter]
        start_time=0
        [frame]
            duration=100
        [/frame]
    [/standing_anim]
    [standing_anim]
        [filter]
            ability=eeaw_sinking
        [/filter]
        layer=60
        submerge=0.3
        start_time=0
        [frame]
            duration=100
        [/frame]
    [/standing_anim]
#enddef

#define EEAW_ANIM_DEFENSE REACTION_IMAGE BASE_IMAGE HIT_SOUND
    [defend]
        [filter_attack]
            range=melee
        [/filter_attack]
        [filter]
            [not]
                race=mechanical
                [or]
                    race=eeawship
                [/or]
            [/not]
        [/filter]
        start_time=-126
        [frame]
            offset=0.0~-0.3:125,-0.3~0.0:125
        [/frame]
        [if]
            hit_sound_start_time=-25
            hits=hit
            [hit_sound_frame]
                sound={HIT_SOUND}
            [/hit_sound_frame]
        [/if]
    [/defend]
#enddef

#define EEAW_FORTIFY_ANIM
    [standing_anim]
        [filter]
            [filter_wml]
                moves=$this_unit.max_moves
            [/filter_wml]
            [and]
                [filter_wml]
                    [variables]
                        fortified=1
                    [/variables]
                [/filter_wml]
            [/and]
        [/filter]
        missile2_start_time=0
        [missile2_frame]
            image="scenery/fortified.png:100"
            layer=30
            auto_vflip=no
        [/missile2_frame]
        start_time=0
        [frame]
            duration=100
        [/frame]
    [/standing_anim]
    [standing_anim]
        [filter]
            [not]
                [filter_wml]
                    moves=$this_unit.max_moves
                [/filter_wml]
            [/not]
            [or]
                [not]
                    [filter_wml]
                        [variables]
                            fortified=1
                        [/variables]
                    [/filter_wml]
                [/not]
            [/or]
        [/filter]
        start_time=0
        [frame]
            duration=100
        [/frame]
    [/standing_anim]
#enddef

#sound-macros---------------------------
#define SABER_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=saber,sword,bulat,knife
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound={SOUND_LIST:SWORD_SWISH}
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=saber,sword,bulat,saber
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound={SOUND_LIST:MISS}
        [/frame]
    [/attack_anim]
#enddef

#define PISTOL_SOUND
    [attack_anim]
        [filter_attack]
            name=pistol,musket,arkebuz,pistols,rifles,falconets,rifle,barrels,barrels2,carbine
        [/filter_attack]
        [if]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_SOUTH 0 0}
            direction=s
            hits=yes
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/if]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_MISS 0 0}
            direction=s
            hits=no
            [frame]
                begin=-400
                end=0
                sound=thunderstick-miss.ogg
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_DIAG_NORTH 0 20}
            direction=ne,nw
            hits=yes
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_MISS 0 0}
            direction=ne,nw
            hits=no
            [frame]
                begin=-400
                end=0
                sound=thunderstick-miss.ogg
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_NORTH 0 20}
            direction=n
            hits=yes
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_MISS 0 0}
            direction=n
            hits=no
            [frame]
                begin=-400
                end=0
                sound=thunderstick-miss.ogg
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_DIAG_SOUTH 0 0}
            direction=se,sw
            hits=yes
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_MISS 0 0}
            direction=se,sw
            hits=no
            [frame]
                begin=-400
                end=0
                sound=thunderstick-miss.ogg
            [/frame]
        [/else]
        [frame]
            begin=0
            end=1
        [/frame]
    [/attack_anim]
#enddef

#define RAPIER_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=rapier,dagger,scythe,scythecharge,jatagan,kindzal,saber,knife2
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound=dagger-swish.wav
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=rapier,dagger,scythe,scythecharge,jatagan,kindzal,saber
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound={SOUND_LIST:MISS}
        [/frame]
    [/attack_anim]
#enddef

#define SPEAR_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=spear,spears,pitchfork,pike,partisane
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound=spear.ogg
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=spear,spears,pitchfork,pike,partisane
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound=spear-miss.ogg
        [/frame]
    [/attack_anim]
#enddef

#define AXE_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=axe,axeberserk
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound=axe.ogg
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=axe,axeberserk
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound={SOUND_LIST:MISS}
        [/frame]
    [/attack_anim]
#enddef

#define LANCE_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=lance,spisa
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound=horse-canter.wav
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=lance,spisa
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound=horse-elf-canter.wav
        [/frame]
    [/attack_anim]
#enddef

#define ARKAN_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=arkan
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound=hiss.wav
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=arkan
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound={SOUND_LIST:MISS}
        [/frame]
    [/attack_anim]
#enddef

#define MACE_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=bulawa,nadziak,shield bash,taran,kalkan,cep,mace,berserk
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound=mace.wav
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=bulawa,nadziak,shield bash,taran,kalkan,cep,mace
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound={SOUND_LIST:MISS}
        [/frame]
    [/attack_anim]
#enddef

#define FIST_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=fist,fists
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound=fist.ogg
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=fist,fists
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound={SOUND_LIST:MISS}
        [/frame]
    [/attack_anim]
#enddef

#define LASKA_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=staff
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound=staff.wav
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=staff
        [/filter_attack]
        [frame]
            begin=-150
            end=150
            sound={SOUND_LIST:MISS}
        [/frame]
    [/attack_anim]
#enddef

#define DZIALO_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=bombardment,cannon,siege,mortar,grenade,falconets
        [/filter_attack]
        missile_start_time=0

        [if]
            direction=n,ne,nw

            [missile_frame]
                halo="projectiles/fireball-impact-[1~16].png":60
                offset=1.0
            [/missile_frame]
        [/if]
        [else]
            direction=s,se,sw

            [missile_frame]
                halo="projectiles/fireball-impact-[1~16].png~FL(vert):60"
                offset=1.0
            [/missile_frame]
        [/else]
        [frame]
            begin=0
            end=350
            sound=explosion.ogg
            offset=0.0~-0.2:50,-0.2~0.0:300
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=bombardment,cannon,siege,mortar,grenade,falconets
        [/filter_attack]

        [if]
            direction=n,ne,nw

            [missile_frame]
                halo="projectiles/fireball-impact-[1~16].png":60
                offset=1.5
            [/missile_frame]
        [/if]
        [else]
            direction=s,se,sw

            [missile_frame]
                halo="projectiles/fireball-impact-[1~16].png~FL(vert):60"
                offset=1.5
            [/missile_frame]
        [/else]
        [frame]
            begin=0
            end=350
            sound=explosion.ogg
            offset=0.0~-0.2:50,-0.2~0.0:300
        [/frame]
    [/attack_anim]
#enddef

#define BOW_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=bow
        [/filter_attack]
        [missile_frame]
            begin=-150
            end=0
            image="projectiles/missile-n.png"
            image_diagonal="projectiles/missile-ne.png"
        [/missile_frame]
        [frame]
            begin=-150
            end=150
            sound=bow.ogg
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=bow
        [/filter_attack]
        [missile_frame]
            begin=-150
            end=0
            image="projectiles/missile-n.png"
            image_diagonal="projectiles/missile-ne.png"
        [/missile_frame]
        [frame]
            begin=-150
            end=150
            sound=bow-miss.ogg
        [/frame]
    [/attack_anim]
#enddef

#define PALBA_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=palba
        [/filter_attack]
        [missile_frame]
        [/missile_frame]
        [frame]
            begin=-150
            end=150
            sound=drake-die.ogg
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=palba
        [/filter_attack]
        [missile_frame]
        [/missile_frame]
        [frame]
            begin=-150
            end=150
            sound=drake-die.ogg
        [/frame]
    [/attack_anim]
#enddef

#define TKNIFE_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=knife
        [/filter_attack]
        [missile_frame]
            begin=-150
            end=0
            image="projectiles/dagger-n.png"
            image_diagonal="projectiles/dagger-ne.png"
        [/missile_frame]
        [frame]
            begin=-150
            end=150
            sound=throwing-knife.ogg
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=knife
        [/filter_attack]
        [missile_frame]
            begin=-150
            end=0
            image="projectiles/dagger-n.png"
            image_diagonal="projectiles/dagger-ne.png"
        [/missile_frame]
        [frame]
            begin=-150
            end=150
            sound=throwing-knife-miss.ogg
        [/frame]
    [/attack_anim]
#enddef

#define FBOW_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=bowfire,bowfireslow
        [/filter_attack]
        [missile_frame]
            begin=-150
            end=0
            image="projectiles/missile-fire-n.png"
            image_diagonal="projectiles/missile-fire-ne.png"
        [/missile_frame]
        [frame]
            begin=-150
            end=150
            sound=bow-puny-fire.ogg
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=bowfire,bowfireslow
        [/filter_attack]
        [missile_frame]
            begin=-150
            end=0
            image="projectiles/missile-fire-n.png"
            image_diagonal="projectiles/missile-fire-ne.png"
        [/missile_frame]
        [frame]
            begin=-150
            end=150
            sound=bow-puny-fire-miss.ogg
        [/frame]
    [/attack_anim]
#enddef

#define DZIALOOKRET_SOUND
    [attack_anim]
        hits=yes
        [filter_attack]
            name=cannonnaval,cannonnavalslow,cannonsinking
        [/filter_attack]
        missile_start_time=0
        layer=60
        submerge=0.01
        hits=yes

        {EEAW_EXPLOSION_ANIM}

        [if]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_SOUTH 0 0}
            direction=s
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/if]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_DIAG_NORTH 0 20}
            direction=ne,nw
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_NORTH 0 20}
            direction=n
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_DIAG_SOUTH 0 0}
            direction=se,sw
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/else]
        [frame]
            begin=0
            end=150
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=cannonnaval,cannonnavalslow,cannonsinking
        [/filter_attack]
        [missile_frame]
        [/missile_frame]
        layer=60
        submerge=0.01

        [if]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_SOUTH 0 0}
            direction=s
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/if]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_DIAG_NORTH 0 20}
            direction=ne,nw
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_NORTH 0 20}
            direction=n
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_DIAG_SOUTH 0 0}
            direction=se,sw
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
            [/frame]
        [/else]

        [frame]
            begin=-150
            end=150
            sound=explosion.ogg
        [/frame]
    [/attack_anim]
#enddef

#define SABOTAGE_ANIM
    [attack_anim]
        hits=yes
        [filter_attack]
            name=sabotage
        [/filter_attack]
        missile_start_time=0

        [if]
            direction=n,ne,nw

            [missile_frame]
                halo="projectiles/fireball-impact-[1~16].png":60
                offset=1.0
            [/missile_frame]
        [/if]
        [else]
            direction=s,se,sw

            [missile_frame]
                halo="projectiles/fireball-impact-[1~16].png~FL(vert):60"
                offset=1.0
            [/missile_frame]
        [/else]
        [frame]
            begin=0
            end=350
            sound=explosion.ogg
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        [filter_attack]
            name=sabotage
        [/filter_attack]
        [frame]
            begin=0
            end=150
            offset=0.0
        [/frame]
    [/attack_anim]
#enddef

#define CHAIKA_ANIMS IMG FILTER
    [attack_anim]
        [filter_attack]
            name=rifles
        [/filter_attack]
        layer=60
        {FILTER}
        [if]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_SOUTH 0 0}
            direction=s
            hits=yes
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
                image={IMG}
            [/frame]
        [/if]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_MISS 0 0}
            direction=s
            hits=no
            [frame]
                begin=-400
                end=0
                sound=thunderstick-miss.ogg
                image={IMG}
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_DIAG_NORTH 0 20}
            direction=ne,nw
            hits=yes
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
                image={IMG}
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_MISS 0 0}
            direction=ne,nw
            hits=no
            [frame]
                begin=-400
                end=0
                sound=thunderstick-miss.ogg
                image={IMG}
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_NORTH 0 20}
            direction=n
            hits=yes
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
                image={IMG}
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_MISS 0 0}
            direction=n
            hits=no
            [frame]
                begin=-400
                end=0
                sound=thunderstick-miss.ogg
                image={IMG}
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_HIT_DIAG_SOUTH 0 0}
            direction=se,sw
            hits=yes
            [frame]
                begin=-400
                end=0
                sound=thunderstick.ogg
                image={IMG}
            [/frame]
        [/else]
        [else]
            {MISSILE_FRAME_MUZZLE_FLARE_MISS 0 0}
            direction=se,sw
            hits=no
            [frame]
                begin=-400
                end=0
                sound=thunderstick-miss.ogg
                image={IMG}
            [/frame]
        [/else]
        [frame]
            begin=0
            end=1
            image={IMG}
        [/frame]
    [/attack_anim]

    [attack_anim]
        hits=yes
        [filter_attack]
            name=bombardment,cannon,siege,mortar,grenade,falconets
        [/filter_attack]
        missile_start_time=0
        {FILTER}

        [if]
            direction=n,ne,nw

            [missile_frame]
                halo="projectiles/fireball-impact-[1~16].png:60"
                offset=1.0
            [/missile_frame]
        [/if]
        [else]
            direction=s,se,sw

            [missile_frame]
                halo="projectiles/fireball-impact-[1~16].png~FL(vert):60"
                offset=1.0
            [/missile_frame]
        [/else]
        [frame]
            begin=0
            end=150
            sound=explosion.ogg
            image={IMG}
        [/frame]
    [/attack_anim]
    [attack_anim]
        hits=no
        {FILTER}
        [filter_attack]
            name=bombardment,cannon,siege,mortar,grenade,falconets
        [/filter_attack]
        [missile_frame]
        [/missile_frame]
        [frame]
            begin=-150
            end=150
            sound=explosion.ogg
            image={IMG}
        [/frame]
    [/attack_anim]
#enddef
